!function e(n,t,i){function o(s,a){if(!t[s]){if(!n[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=t[s]={exports:{}};n[s][0].call(l.exports,function(e){var t=n[s][1][e];return o(t?t:e)},l,l.exports,e,n,t,i)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,t){var i=e("./lib/App");window.App=i},{"./lib/App":9}],2:[function(e,n,t){var i=9,o=function(e){e.keyCode===i&&(this.first&&e.shiftKey||!this.first&&!e.shiftKey)&&(e.preventDefault(),this.nextElement.focus())};n.exports=o},{}],3:[function(e,n,t){var i=function(e,n,t){var i;for(i in e)e.hasOwnProperty(i)&&n.call(t,i,e[i])};n.exports=i},{}],4:[function(e,n,t){var i=function(e,n){return function(){return e.apply(n,arguments)}};n.exports=i},{}],5:[function(e,n,t){var i=e("./forEach"),o=function(){var e=!1,n=[],t=function(){setTimeout(function(){/loaded|complete/.test(document.readyState)?(e=!0,i(n,function(e){e()})):t()},50)};return t(),function(t){e?t():n.push(t)}}.call();n.exports=o},{"./forEach":6}],6:[function(e,n,t){var i=function(e,n,t){var i,o;for(o=0,i=e.length;i>o;o++)n.call(t,e[o])};n.exports=i},{}],7:[function(e,n,t){var i=function(e,n,t){var i="on"+n;window.addEventListener?e.removeEventListener(n,t,!1):e.detachEvent(i,t)};n.exports=i},{}],8:[function(e,n,t){var i=function(e,n,t){var i="on"+n;window.addEventListener?e.addEventListener(n,t,!1):e.attachEvent(i,t)};n.exports=i},{}],9:[function(e,n,t){function i(e){e=e||{};var n=this;s.supported&&s.enableProgressBar(),o.init(e),this.sender=new r(window.top,e.targetOrigin),this.fireResize=function(){var e=0;document.documentElement&&(e=document.documentElement.scrollHeight),n.sender.send("auth:resize",{height:e})},this.onLoad=function(){n.sender.send("auth:loaded")},c(window,"load",n.onLoad),c(window,"orientationchange",n.fireResize),c(document,"page:change",n.fireResize),a(n.fireResize)}var o=e("./PageManager").instance,r=e("./Sender"),s=e("./Turbolinks"),a=e("../helpers/ie8/documentReady"),c=e("../helpers/ie8/on");o.pages={"/auth/v2/login/one_time_password":e("../pages/one_time_password"),"/auth/v2/login/registration":e("../pages/registration"),"/auth/v2/login/signed_in":e("../pages/signed_in"),"/auth/v2/login/signin":e("../pages/signin"),"/auth/v2/login/sso":e("../pages/sso")},n.exports=i},{"../helpers/ie8/documentReady":5,"../helpers/ie8/on":8,"../pages/one_time_password":15,"../pages/registration":16,"../pages/signed_in":17,"../pages/signin":18,"../pages/sso":19,"./PageManager":12,"./Sender":13,"./Turbolinks":14}],10:[function(e,n,t){var i=function(e){"string"==typeof e&&(e=this.deserialize(e)),e=e||{},this.type=e.type||"",this.data=e.data||{}};i.prototype={serialize:function(){return JSON.stringify(this)},deserialize:function(e){return JSON.parse(e)}},n.exports=i},{}],11:[function(e,n,t){var i=e("../helpers/forIn"),o=e("../helpers/ie8/on"),r=e("../helpers/focusOnNextTab"),s=function(e){e=e||{},i(e,function(e,n){this[e]=n},this)};s.prototype={init:function(){},load:function(){},unload:function(){},setCircularTab:function(){var e='select, input:not([type="hidden"]), textarea, button, a',n=document.querySelectorAll(e);if(n.length>0){var t=n[0],i=n[n.length-1];t.nextElement=i,t.first=!0,o(t,"keydown",r),i.nextElement=t,o(i,"keydown",r)}},setFocus:function(){var e=document.querySelector('[autofocus="autofocus"]');e&&e.focus()}},n.exports=s},{"../helpers/focusOnNextTab":2,"../helpers/forIn":3,"../helpers/ie8/on":8}],12:[function(e,n,t){var i=e("./Turbolinks"),o=e("../helpers/forIn"),r=e("../helpers/ie8/bind"),s=e("../helpers/ie8/on"),a=e("../helpers/ie8/off"),c=e("../helpers/ie8/documentReady"),l=function(){this._active=null,this.pages={}};l.prototype={init:function(e){o(this.pages,function(n,t){t.init.call(t,e)}),this.loadPage=r(this.loadPage,this),this.unloadPage=r(this.unloadPage,this),i.supported?(s(document,"page:change",this.loadPage),s(document,"page:before-unload",this.unloadPage)):c(this.loadPage)},getPath:function(){return window.location.pathname},getPageFromRoute:function(){var e,n,t;return n=this.pages,e=this.getPath(),o(this.pages,function(n,i){new RegExp(n).test(e)&&(t=i)}),t},unloadPage:function(){this._active&&this._active.unload.call(this._active)},loadPage:function(){var e=this._active=this.getPageFromRoute();e&&(e.load.call(e),e.setCircularTab(),e.setFocus())},destroy:function(){a(document,"page:change",this.loadPage),a(document,"page:before-unload",this.unloadPage),this._active=void 0,this.pages=void 0}},l.instance=new l,n.exports=l},{"../helpers/forIn":3,"../helpers/ie8/bind":4,"../helpers/ie8/documentReady":5,"../helpers/ie8/off":7,"../helpers/ie8/on":8,"./Turbolinks":14}],13:[function(e,n,t){var i=e("./Evt"),o=function(e,n){if(!e)throw new Error("Missing target");this.target=e,this.targetOrigin=n};o.prototype={send:function(e,n){var t=new i({type:e,data:n});this.target.postMessage(t.serialize(),this.targetOrigin)}},n.exports=o},{"./Evt":10}],14:[function(e,n,t){n.exports=window.Turbolinks},{}],15:[function(e,n,t){var i=e("../lib/Page");n.exports=new i({init:function(){},load:function(){document.getElementById("password").focus()},unload:function(){}})},{"../lib/Page":11}],16:[function(e,n,t){var i=e("../lib/Page"),o=e("../lib/Sender");n.exports=new i({init:function(e){this.sender=new o(window.top,e.targetOrigin),this.timer=null},load:function(){var e=this;this.timer=setInterval(function(){e.resize.call(e)},500)},unload:function(){clearInterval(this.timer)},resize:function(){var e=0;document.documentElement&&(e=document.documentElement.scrollHeight,this.sender.send("auth:resize",{height:e}))}})},{"../lib/Page":11,"../lib/Sender":13}],17:[function(e,n,t){var i=e("../lib/Page"),o=e("../lib/Sender");n.exports=new i({init:function(e){this.sender=new o(window.top,e.targetOrigin)},load:function(){this.sender.send("auth:goto_return_to")}})},{"../lib/Page":11,"../lib/Sender":13}],18:[function(e,n,t){var i=e("../lib/Page"),o=e("../lib/Sender"),r=e("../helpers/ie8/bind"),s=e("../helpers/ie8/on"),a=e("../helpers/ie8/off"),c="Escape",l=27;n.exports=new i({onCancelClick:function(e){e.preventDefault(),this.closeOrRedirect()},init:function(e){void 0===this.sender&&(this.sender=new o(window.top,e.targetOrigin)),this.onCancelClick=r(this.onCancelClick,this),this.pageWithCancelOnKeyDown=r(this.pageWithCancelOnKeyDown,this)},load:function(){this.cancelElement=document.querySelector("[data-close]"),this.cancelElement&&(s(this.cancelElement,"click",this.onCancelClick),s(document,"keydown",this.pageWithCancelOnKeyDown))},unload:function(){this.cancelElement&&(a(this.cancelElement,"click",this.onCancelClick),a(document,"keydown",this.pageWithCancelOnKeyDown),this.cancelElement=void 0)},cancelElement:void 0,closeOrRedirect:function(){"guide"===this.cancelElement.dataset.closeType?this.closeWindow():window.location.href=this.cancelElement.href},closeWindow:function(){this.sender.send("auth:close");var e=this.sender.target.document,n=e.querySelector('a[data-auth-action="signin"]');n&&n.focus()},pageWithCancelOnKeyDown:function(e){(e.key===c||e.keyCode===l)&&this.closeOrRedirect()}})},{"../helpers/ie8/bind":4,"../helpers/ie8/off":7,"../helpers/ie8/on":8,"../lib/Page":11,"../lib/Sender":13}],19:[function(e,n,t){var i=e("../lib/Page"),o=e("../lib/Sender");n.exports=new i({init:function(e){this.sender=new o(window.top,e.targetOrigin)},load:function(){var e,n;e=document.querySelector("#sso_url"),e&&(n=e.getAttribute("value"),this.sender.send("auth:load_url",{url:n}))}})},{"../lib/Page":11,"../lib/Sender":13}]},{},[1]);
